{"componentChunkName":"component---src-templates-post-details-js","path":"/post/docker-ile-strapi-kurulumu","result":{"data":{"strapiPosts":{"title":"Docker ile Strapi Kurulumu","url_id":"docker-ile-strapi-kurulumu","strapiId":3,"content":"Docker'ı henüz production ortamlarında kullanmasam da development ortamımda sürekli kullandığım bir tool. Bu makalemde Docker ile bir Strapi & PostgreSQL uygulamasını nasıl ayağa kaldıracağımızdan bahsedeceğim.\n\nStrapi, ilişkili tablolarımızı kolayca yapmamızı sağlayan,  açık kaynak içerik yönetim paneli. Bu tür yapılara [Headless Cms](https://headlesscms.org) deniliyor. Strapi bize content management'in yanı sıra authentication ve rest api olanağı da sunuyor. Hal böyle olunca da backend'i frontend'den koparmak kaçınılmaz oluyor (Headless CMS buradan geliyor). Strapi'nin Wordpress, Zoomla tarzı içerik yönetim araçlarından farkı da burada. Ön tarafta özgürüz. Ön yüzü, istediğimiz araçlarla geliştirip Strapi'nin bize sağladığı API - Db ile de entegrasyonumuzu sağlayabiliyoruz.\n\n### Yazı içeriği\n\n- [Folder Yapısı & YAML](#folder-yapisi---yaml)\n- [Docker Compose ile Uygulamaları Ayağa Kaldırmak](#docker-compose)\n- [Strapi'ye İlk Bakış](#strapi-ilk-bakis)\n\n### Folder Yapisi & YAML\n\nStrapi uygulamasını bir container'da kullanmak istiyorsak bilgisayarımızda Docker ın kurulu olduğundan emin olmanız gerekiyor. Ufak bir hatırlatmadan sonra klasör yapımıza göz atalım.\n\n[Windows için Docker](https://download.docker.com/win/stable/Docker%20Desktop%20Installer.exe)\n[Mac için Docker](https://download.docker.com/mac/stable/Docker.dmg)\n[Linux için Docker](https://docs.docker.com/engine/install/ubuntu/)\n\nÖncelikle, Strapi ve PostgreSQL'i docker ile ayağa kaldıracağımız için klasör yapısı sadece .yaml dosyasından ibaret olacak. \n\n```\nmy-strapi-project\n├── docker-compose.yml\n```\n\n```yml\nversion: \"3\"  # Docker-compose Versiyonu\nservices:\n  strapi:  # Servis ismi\n    image: strapi/strapi  # Docker'dan pull edilen Strapi image'I\n    environment:  # Postgre SQL'e bağlanırken istenen ortam değişkenleri\n      DATABASE_CLIENT: postgres\n      DATABASE_NAME: strapi\n      DATABASE_HOST: postgres\n      DATABASE_PORT: 5432\n      DATABASE_USERNAME: strapi\n      DATABASE_PASSWORD: strapi\n    links:\n      - postgres:postgres # Postgres'e bağlandığımızı söylüyoruz\n    volumes:\n      - /app/:/srv/app #  Birinci relative path: localimizden bulunan dosya yapısı (/app), ikincisi ise Docker Container'da bulunan app'in bulunduğu klasör. Bu sayede kaynak kodlara direkt localimizden müdahale edebileceğiz.\n    ports: # Uygulamanın dinlediğ port numarası.\n      - \"1337:1337\"\n\n  postgres:\n    image: postgres # Offical Database Image ismi\n    environment:\n      POSTGRES_USER: strapi # Database kullanıcı adı\n      POSTGRES_PASSWORD: strapi # Database şifre\n    volumes:\n      - ./data:/data/postgres # Burada yine volume'lama işlemi uyguluyoruz. Database'deki dataların bulunduğu klasörü, localimize çekiyoruz. Bu sayede container silindiğinde dataları kaybetmemiş oluyoruz.\n    ports:\n      - \"5432:5432\" # Database'in dinlediği port numarası.\n```\nKlasör Yapımız:\n\n![klasor-yapisi](https://res.cloudinary.com/dqdxgbpvn/image/upload/v1593367857/klasor_yapisi_8b1e9d4ace.png)\n\nYaml dosyamızı tamamladık, şimdi çalıştıralım.\n\n### Docker Compose\n\nYaml dosyamızda birbirine bağladığımız iki tane uygulama image'ımız var. Biri Strapi diğeri de Postgres. Yazılan parametlerin ne işe yaradıklarını kısaca comment olarak ekledim. Şimdi bu parametleri çalıştırma vakti.\n\nUygulamamızın bulunduğu klasöre gelerek komut satırımızı açıyoruz. Daha sonra aşağıdaki komutu yazıp manifestoların kurulum aşamalarını izliyoruz.\n\n``` docker-compose up```\n\nEğer container'ımızı detached modda çalıştırmadıysak (yukarıdaki komut attached olarak çalıştırır) aşağıdaki gibi bir çıktı görmemiz gerekiyor.\n\n![strapi-docker-complete](https://res.cloudinary.com/dqdxgbpvn/image/upload/v1593370201/strapi_docker_complete_9e988a918f.png)\n\nİşlem tamam, artık uygulamamız ve database sunucumuz docker container'lar üzerinde erişilebilir durumda. Yukarıdaki yazdığımız port numarası ile uygulamamıza erişebiliriz. http://localhost:1337/admin\n\nVolume kullandığımız için uygulamamızın bulunduğu container içindeki dosyalar localimizde de görünür durumda. Herhangi bir değişiklik durumunda live server devreye girip container içindeki uygulamayı da güncelliyor. Son durumda klasör yapısı aşağıdaki gibi olması gerekiyor.\n\n```\nmy-strapi-project\n├── app\n│       └── api\n│       └── build\n│       └── config\n│       └── extensions\n│       └── node_modules\n│       └── .editorconfig\n│       └── .env.example\n│       └── .eslintignore\n│       └── .eslintrc\n│       └── .gitignore\n│       └── favicon.ico\n│       └── package.json\n│       └── .README.md\n│       └── yarn.lock\n└── data\n└── docker-compose.yml\n```\n    \n### Strapi ilk Bakis\n\n![strapi-hosgeldin](https://res.cloudinary.com/dqdxgbpvn/image/upload/v1593371286/strapi_hosgeldin_8ad6b64d11.png)\n\nKurulumu tamamlandı. Strapi ile Postgres'i birlikte container haline getirip uygulamamızı ayağa kaldırdık. Volume ile de uygulama dosyalarını ve veritabanı data'larını localimize taşıdık. Database'i ister MongoDB isterseniz de SQLite yapabilirsiniz. İstediğinize göre de .yml dosyanızdaki parametreleri düzenlemeniz gerekiyor.\n\n#### Kaynak:\n\n[Strapi](https://strapi.io/documentation/3.0.0-beta.x/installation/docker.html)\n","created_at":"2020-06-29T19:45:18.685Z","tumblr_img":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3VAD/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAQABBQJuFz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAATEg/9oACAEBAAY/Ao2TP//EABsQAQACAgMAAAAAAAAAAAAAAAEAESAhMaGx/9oACAEBAAE/IV8SKE3b6g2cVh//2gAMAwEAAgADAAAAEHDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAAEDBQAAAAAAAAAAAAAAAQARICExYYGRwf/aAAgBAQABPxDSOB9YIggqlO2ZkFbGz//Z","aspectRatio":1.8575851393188854,"src":"/static/423248bc760ee2edf0983b78f6afa7e9/47498/cdc094f7706a04034ce1d78cc418e25f.jpg","srcSet":"/static/423248bc760ee2edf0983b78f6afa7e9/47498/cdc094f7706a04034ce1d78cc418e25f.jpg 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"tags":[{"id":3,"image":{"id":"C:/Users/Cartel/Desktop/certel/.cache/gatsby-source-filesystem/85325c34aafd09bc19a5e03d860e858f.png absPath of file","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAC4jAAAuIwF4pT92AAACAUlEQVQ4y32UW0tVURCAd9rJJBGD3EcyRMXU6MHo8iBIivQgEireCvUheujBDkRoUUEZRlIYoVIpmog3ApVIUctCn/ornv6G35wzy8Z1di34WMOsNbNnzWUH4f1kEAdZ8bScHehCPg/L8Bt64ITq8+OJZEzlLCEt7weBMZaDYyqfgmHYgWYohbdwCW7DL1iXM2OfnQpMnHhR3YGfMAgxo78MX2EczkAlLMEiVAf+QlmnBh/hrNFXwGdYhSsRdjdhG15CrihOw4Q6qzUXc+CpRtttUxNELPRT8FyEF/DGHLjEP4YZL8ea/ORd2IQGiuPyfkPyLMIrMfYjYF+ACyrHjL4FvkCNRl+m+k54LUKJXpgVWQ/7YSOVk7/t5Bx2wTyEWu0K1XfAiM3BLfgGP2BUKql696TUvTDdFQ/VWauxb5dWc23jjPKgPEwcRhNE7V4xXIO3wruMCWF/5EI3z8yYJjhunDbBbipi77JU8jo8cK0ihq7C6sgOQTXMwbQroP+kfBiTaukTqv7Rc3l6Z0tz1xQm/mRFOSyANhjQAlXpR95LT0If3NMZHwj7D3O/AoVHHJrCPIMhlRthT+e7TodgBM4Z22v6gdyoCP0fhfy66v/z7CH4LlNiWyyjJUwrfICrKp80573ar09ctSOdkVh/Kj7BRXOvFtZgEortv1D2ImwPAKcTjKfP5SmYAAAAAElFTkSuQmCC","width":22,"height":20,"src":"/static/ea3c7ff0d52f52c32dc8e66ebbaf4448/efadc/85325c34aafd09bc19a5e03d860e858f.png","srcSet":"/static/ea3c7ff0d52f52c32dc8e66ebbaf4448/efadc/85325c34aafd09bc19a5e03d860e858f.png 1x,\n/static/ea3c7ff0d52f52c32dc8e66ebbaf4448/071e8/85325c34aafd09bc19a5e03d860e858f.png 1.5x,\n/static/ea3c7ff0d52f52c32dc8e66ebbaf4448/3512f/85325c34aafd09bc19a5e03d860e858f.png 2x"}}},"name":"Strapi"},{"id":5,"image":{"id":"C:/Users/Cartel/Desktop/certel/.cache/gatsby-source-filesystem/dd4d2a4ca8a218111ff4890c50c7f6a2.png absPath of file","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAADU0lEQVQ4y61TaUhUURR+82beu+9NC/3Q/gQJLdACoZRt0AKBBUVJBRKkUFEYjdOqluag5VJG0xgVJZMx9iYpF7IyNUtbbHFpoUhLTawkK7EiMnRs5va9bUYz6E8XPr5zzz33u+ecey/D/DH4HReZIEpVe185w23NY8jBB4YhMfArHOcewn8d4iXKhGqCoz9TRiykihifWBbKJ9+I5fdcDlHmCVdZPqmC9R+ys3C4GJ9cpfKuIgPJemwcvEZstw+L+b2U2GrWy3Ph+BvlIJJRZ0CGhuFi1gK9HP8iSb3jwoY2klb7hBy4/16wN1MculKJiy8NRlZL9Fh2XhQzR6tMGSMfUTlILW/v9Sl8wpVoiHQIjhZKDj2lEKYk+zklKbfOIG42Mo1GlpSzFixkF2/gSXodOyxLktlg1Pq1SzjVSVG2R8h+1i9kNnhIZuMAyWr0KAdkNb7jLOe3CLmfqHj6AyVp914aVyaMGCqWVMlq/QuDUJdw7LVXONrk5eyvfMajzT7B3uQjdplf+eDvhfBbwdHaT9IflpKU6hVKX3PaAr2EUxXcWRQunOmi5nPffpnzvtKxrh46Lr+b8me/UFGGs8cn5n3tx2tAZrUX9P3mIjr8/WmDEw8/bTG6flLG8bFv8tl276riDq8ht8drdnYPQNQjSn0ULWg3RaUHqRdZYZJ5VIMmqj9Mc3KF+lSsxavnOl9Qqfk7Pd7koYLrBxVdvdQMIWRIcQEPuE2nxqsXWKZWtrtE1fG/9vhShVPvdyt9iM0tW1JS/7q8vrWzY2NpW5cp+8VLIaO+iCReWzfoxyhiZP9NhoOO/8fw6oSFUwmY6bhrCjRj/sgpMcljJk2aKOieEbepAW/QxG3LZ+VHLe/VYFDEOIsU6GWce/Nf/2QdRKwFFuZfg9PS5CzuaIidxDwHPA/IwUFhgtUdDDsT2I65DTwNiET8DLANvlBgDewjwFw9q0jeIsXzFvd02DWKWJwUAj4Bvws8CwfNgC2vVUEgHPNK2NnwXQFXAxHAGD3LCAjYwEshelIORAYLwA5FNE5aDpFlWHfKWSEmBlwoVwTBHXJ2gZIteslSJBYSAE4rKw2YiA0iOBFYC0wFzPAtQvwE2FaIoxIpDAmRwRfB/I8h38dvNzCSZPxT90QAAAAASUVORK5CYII=","width":22,"height":20,"src":"/static/d17afcee7149c59f6252cf8cb86986d3/efadc/dd4d2a4ca8a218111ff4890c50c7f6a2.png","srcSet":"/static/d17afcee7149c59f6252cf8cb86986d3/efadc/dd4d2a4ca8a218111ff4890c50c7f6a2.png 1x,\n/static/d17afcee7149c59f6252cf8cb86986d3/071e8/dd4d2a4ca8a218111ff4890c50c7f6a2.png 1.5x,\n/static/d17afcee7149c59f6252cf8cb86986d3/3512f/dd4d2a4ca8a218111ff4890c50c7f6a2.png 2x"}}},"name":"Docker"},{"id":8,"image":null,"name":"Docker ile Strapi Kurulumu"},{"id":9,"image":null,"name":"Postgres ve Docker"},{"id":10,"image":null,"name":"Docker Compose Strapi"}]}},"pageContext":{"id":"docker-ile-strapi-kurulumu"}}}